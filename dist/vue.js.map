{"version":3,"file":"vue.js","sources":["../src/util.js","../src/initGlobalApi.js","../src/compiler/parse.js","../src/compiler/index.js","../src/observe/array.js","../src/observe/dep.js","../src/observe/index.js","../src/proxy.js","../src/observe/watcher.js","../src/initState.js","../src/vdom/index.js","../src/lifycycle.js","../src/initMixin.js","../src/index.js"],"sourcesContent":["const tactics = {};\nconst lifycycles = [\n  \"beforeCreate\",\n  \"created\",\n  \"beforeMount\",\n  \"mounted\",\n  \"beforeUpdate\",\n  \"updated\",\n  \"beforeDestroy\",\n  \"destroyed\",\n];\n\nlifycycles.forEach((lifycycle) => {\n  tactics[lifycycle] = (p, c) => {\n    if (c) {\n      if (p) {\n        return p.concat(c);\n      } else {\n        return [c];\n      }\n    } else {\n      return p;\n    }\n  };\n});\n\nexport function mergeOptions(parent, child) {\n  const options = {};\n  Object.keys(parent).forEach((key) => {\n    mergeField(key);\n  });\n\n  Object.keys(child).forEach((key) => {\n    if (!parent.hasOwnProperty(key)) {\n      mergeField(key);\n    }\n  });\n\n  function mergeField(key) {\n    if (tactics[key]) {\n      options[key] = tactics[key](parent[key], child[key]);\n    } else {\n      options[key] = child[key] || parent[key];\n    }\n  }\n\n  return options;\n}\n","import { mergeOptions } from \"./util\";\nexport function initGlobalApi(Vue) {\n  Vue.options = {};\n\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(Vue.options, mixin);\n    return this;\n  };\n}\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\r\nconst attribute =\r\n  /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\nconst startTagClose = /^\\s*(\\/?)>/;\r\n\r\nexport const ELEMENT_TYPE = 1;\r\nexport const TEXT_TYPE = 3;\r\n\r\nexport function parseHTML(html) {\r\n  const stack = [];\r\n  let root, currentParent;\r\n\r\n  function createAstElement(tag, attrs) {\r\n    return {\r\n      tag,\r\n      type: ELEMENT_TYPE,\r\n      attrs,\r\n      parent: null,\r\n      children: [],\r\n    };\r\n  }\r\n\r\n  function startHandle(tag, attrs) {\r\n    const node = createAstElement(tag, attrs);\r\n\r\n    if (currentParent) {\r\n      node.parent = currentParent;\r\n      currentParent.children.push(node);\r\n    }\r\n\r\n    if (!root) {\r\n      root = node;\r\n    }\r\n\r\n    stack.push(node);\r\n    currentParent = node;\r\n  }\r\n\r\n  function charsHandle(text) {\r\n    currentParent.children.push({\r\n      type: TEXT_TYPE,\r\n      text,\r\n      parent: currentParent,\r\n    });\r\n  }\r\n\r\n  function endHandle(tag) {\r\n    stack.pop();\r\n    currentParent = stack[stack.length - 1];\r\n  }\r\n\r\n  function advance(n) {\r\n    html = html.substring(n);\r\n  }\r\n\r\n  function parseStartTag() {\r\n    const start = html.match(startTagOpen);\r\n\r\n    if (start) {\r\n      const match = {\r\n        tagName: start[1],\r\n        attrs: [],\r\n      };\r\n\r\n      startHandle(match.tagName, match.attrs);\r\n      advance(start[0].length);\r\n\r\n      let end, attr;\r\n      while (\r\n        !(end = html.match(startTagClose)) &&\r\n        (attr = html.match(attribute))\r\n      ) {\r\n        match.attrs.push({\r\n          name: attr[1],\r\n          value: attr[3] || attr[4] || attr[5],\r\n        });\r\n        advance(attr[0].length);\r\n      }\r\n\r\n      if (end) {\r\n        end[1] === \"/\" && endHandle(start[1]);\r\n        advance(end[0].length);\r\n      }\r\n\r\n      return match;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  while (html) {\r\n    const textEnd = html.indexOf(\"<\");\r\n    if (textEnd === 0) {\r\n      // 标签开始或者结束位置\r\n      const startTagMatch = parseStartTag();\r\n\r\n      if (startTagMatch) {\r\n        continue;\r\n      }\r\n\r\n      const endTagMatch = html.match(endTag);\r\n\r\n      if (endTagMatch) {\r\n        endHandle(endTagMatch[1]);\r\n        advance(endTagMatch[0].length);\r\n        continue;\r\n      }\r\n    } else {\r\n      // 文本节点开始\r\n      let text;\r\n\r\n      if (textEnd > 0) {\r\n        text = html.substring(0, textEnd);\r\n      } else {\r\n        text = html;\r\n      }\r\n\r\n      if (text) {\r\n        charsHandle(text);\r\n        advance(text.length);\r\n      }\r\n    }\r\n  }\r\n\r\n  return root;\r\n}\r\n","import { ELEMENT_TYPE, parseHTML, TEXT_TYPE } from \"./parse\";\r\nvar defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\r\n\r\nfunction toS(str) {\r\n  return JSON.stringify(str);\r\n}\r\n\r\nfunction genElement(ast) {\r\n  let code = `_c(${toS(ast.tag)},{${ast.attrs ? genProps(ast.attrs) : \"\"}}${\r\n    ast.children && ast.children.length > 0\r\n      ? `,${ast.children.map((item) => codeGen(item)).join(\",\")}`\r\n      : \"\"\r\n  })`;\r\n  return code;\r\n}\r\n\r\nfunction genProps(obj) {\r\n  let propsStrArr = [];\r\n\r\n  obj.forEach(({ name, value }) => {\r\n    switch (name) {\r\n      case \"style\":\r\n        let styleStrArr = [];\r\n        value.split(\";\").forEach((item) => {\r\n          const [cssname, cssvalue] = item.split(\":\");\r\n          styleStrArr.push(`${toS(cssname.trim())}:${toS(cssvalue.trim())}`);\r\n        });\r\n\r\n        propsStrArr.push(`\"style\":{${styleStrArr.join(\",\")}}`);\r\n\r\n        break;\r\n\r\n      default:\r\n        propsStrArr.push(\r\n          `${toS(name.trim())}:${toS(\r\n            value ?? \"\" === \"\" ? value : value.trim()\r\n          )}`\r\n        );\r\n        break;\r\n    }\r\n  });\r\n\r\n  return propsStrArr.join(\",\");\r\n}\r\nfunction codeGen(ast) {\r\n  let code;\r\n\r\n  if (ast.type === ELEMENT_TYPE) {\r\n    code = genElement(ast);\r\n  }\r\n\r\n  if (ast.type === TEXT_TYPE) {\r\n    const text = ast.text;\r\n    const tokens = [];\r\n    let token;\r\n\r\n    let lastIndex = 0;\r\n\r\n    defaultTagRE.lastIndex = 0;\r\n    while ((token = defaultTagRE.exec(text))) {\r\n\r\n      const curIndex = token.index;\r\n      if (curIndex > lastIndex) {\r\n        tokens.push(toS(text.slice(lastIndex, curIndex)));\r\n      }\r\n\r\n      tokens.push(`_s(${token[1].trim()})`);\r\n\r\n      lastIndex = curIndex+token[0].length;\r\n    }\r\n\r\n    if (lastIndex < text.length) {\r\n      tokens.push(toS(text.slice(lastIndex)));\r\n    }\r\n\r\n    code = `_v(${tokens.join(\"+\")})`;\r\n  }\r\n\r\n  return code;\r\n}\r\n\r\nexport const compileToFunction = function (html) {\r\n  const ast = parseHTML(html);\r\n\r\n const code =  codeGen(ast);\r\n\r\n return new Function(`with(this){ return ${code}}`)\r\n};\r\n","import { observe } from \"./index\";\n\nconst oldArrayProto = Array.prototype;\n\nexport const newArrayProto = Object.create(oldArrayProto);\n\nconst methods = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"reserve\",\n  \"sort\",\n  \"splice\",\n];\n\nmethods.forEach((method) => {\n  newArrayProto[method] = function (...args) {\n    const res = oldArrayProto[method].call(this, ...args);\n\n    const ob = this.__ob__;\n\n    let addItems = [];\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        addItems = args;\n        break;\n      case \"splice\":\n        addItems = args.slice(2);\n        break;\n      default:\n        break;\n    }\n    ob.observeArray(addItems);\n\n    ob.dep.notify();\n\n    return res;\n  };\n});\n","let id = 0;\n\nclass Dep {\n  constructor() {\n    this.id = id++;\n    this.subs = []; // 收集watcher\n  }\n\n  depend() {\n    Dep.target.addDep(this);\n  }\n\n  addSub(watcher) {\n    this.subs.push(watcher);\n  }\n\n  notify() {\n    this.subs.forEach((watcher) => {\n      watcher.update();\n    });\n  }\n}\n\nconst stack = [];\nDep.target = null;\n\nexport function pushTarget(watcher) {\n  stack.push(watcher);\n  Dep.target = watcher;\n}\n\nexport function popTarget() {\n  stack.pop();\n  Dep.target = stack[stack.length - 1];\n}\n\nexport default Dep;\n","import { newArrayProto } from \"./array\";\nimport Dep from \"./dep\";\n\nclass Observer {\n  constructor(data) {\n    this.dep = new Dep();\n\n    Object.defineProperty(data, \"__ob__\", {\n      value: this,\n      enumerable: false,\n    });\n    if (Array.isArray(data)) {\n      this.observeArray(data);\n    } else {\n      this.walk(data);\n    }\n  }\n\n  walk(data) {\n    Object.keys(data).forEach((key) => {\n      defineReactive(data, key, data[key]);\n    });\n  }\n\n  observeArray(data) {\n    data.__proto__ = newArrayProto;\n    data.forEach((item) => observe(item));\n  }\n}\n\nfunction dependArray(value) {\n  value.forEach((item) => {\n    item.__ob__ && item.__ob__.dep.depend();\n    if (Array.isArray(item)) {\n      dependArray(item);\n    }\n  });\n}\n\nexport const defineReactive = function (target, key, value) {\n  // 递归\n  const childOb = observe(value);\n  const dep = new Dep();\n  Object.defineProperty(target, key, {\n    get() {\n      if (Dep.target) {\n        dep.depend();\n\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value;\n    },\n    set(newVal) {\n      if (newVal === value) return;\n      observe(newVal);\n      value = newVal;\n      dep.notify();\n    },\n  });\n};\n\nexport const observe = function (data) {\n  if (typeof data !== \"object\" || data === null) {\n    return;\n  }\n\n  if (data.__ob__) {\n    return data.__ob__;\n  }\n\n  return new Observer(data);\n};\n","export const proxy = function (vm, targetKey,key) {\n\n    Object.defineProperty(vm, key, {\n      get() {\n        return vm[targetKey][key];\n      },\n      set(newVal) {\n        vm[targetKey][key] = newVal\n      },\n    });\n};\n","import Dep, { popTarget, pushTarget } from \"./dep\";\n\nlet id = 0;\n\nexport default class Watcher {\n  constructor(vm, expOrFn, options, cb) {\n    this.id = id++;\n\n    this.getter = typeof expOrFn === \"string\" ? () => vm[expOrFn] : expOrFn;\n\n    this.renderWatch = !!options.renderWatch;\n\n    this.deps = [];\n\n    this.depIds = new Set();\n    this.vm = vm;\n    this.lazy = !!options.lazy;\n    this.dirty = !!options.lazy;\n    this.user = !!options.user;\n    this.cb = cb;\n    this.value = options.lazy ? undefined : this.get();\n  }\n\n  evaluate() {\n    this.value = this.get();\n    this.dirty = false;\n  }\n\n  get() {\n    pushTarget(this);\n    const value = this.getter.call(this.vm);\n    popTarget();\n\n    return value;\n  }\n  depend() {\n    this.deps.forEach((dep) => {\n      dep.depend();\n    });\n  }\n  addDep(dep) {\n    const depId = dep.id;\n    if (!this.depIds.has(depId)) {\n      this.deps.push(dep);\n      this.depIds.add(depId);\n      dep.addSub(this);\n    }\n  }\n\n  update() {\n    if (this.lazy) {\n      this.dirty = true;\n    } else {\n      queueWatcher(this);\n    }\n  }\n\n  run() {\n    const oldVal = this.value,\n      newVal = this.get();\n\n    this.cb && this.cb(oldVal, newVal);\n  }\n}\n\nlet watcherQueue = [],\n  watcherMap = {},\n  pending = false;\nfunction queueWatcher(watcher) {\n  const id = watcher.id;\n  if (!watcherMap[id]) {\n    watcherQueue.push(watcher);\n    watcherMap[id] = true;\n\n    if (!pending) {\n      nextTick(flushSchedulerQueue);\n      pending = true;\n    }\n  }\n}\n\nfunction flushSchedulerQueue() {\n  const watchers = watcherQueue.slice(0);\n  watcherQueue = [];\n  watcherMap = {};\n  pending = false;\n\n  watchers.forEach((watcher) => watcher.run());\n}\n\nlet timerFn;\nif (Promise) {\n  timerFn = () => {\n    Promise.resolve().then(flushCbQueue);\n  };\n} else if (MutationObserver) {\n  const observer = new MutationObserver(flushCbQueue);\n  const textNode = document.createTextNode(1);\n  observer.observe(textNode, {\n    characterData: true,\n  });\n  timerFn = () => {\n    textNode.textContent = 2;\n  };\n} else if (setImmediate) {\n  timerFn = () => {\n    setImmediate(flushCbQueue);\n  };\n} else {\n  timerFn = () => {\n    setTimeout(flushCbQueue);\n  };\n}\n\nlet cbQueue = [],\n  waiting = false;\nexport function nextTick(cb) {\n  cbQueue.push(cb);\n\n  if (!waiting) {\n    timerFn();\n    waiting = true;\n  }\n}\n\nfunction flushCbQueue() {\n  const cbs = cbQueue.slice(0);\n  cbQueue = [];\n  waiting = false;\n\n  cbs.forEach((cb) => cb());\n}\n","import { observe } from \"./observe/index.js\";\nimport { proxy } from \"./proxy\";\nimport Watcher from \"./observe/watcher\";\nimport Dep from \"./observe/dep.js\";\nexport const initState = function (vm) {\n  initData(vm);\n\n  initComputed(vm);\n\n  initWatch(vm);\n};\n\nfunction initData(vm) {\n  let data = vm.$options.data;\n  data = typeof data === \"function\" ? data.call(vm) : data;\n  vm._data = data;\n\n  observe(data);\n\n  Object.keys(vm._data).forEach((key) => {\n    // 数据代理\n    proxy(vm, \"_data\", key);\n  });\n}\n\nfunction initComputed(vm) {\n  const computed = vm.$options.computed;\n  if (!computed) return;\n  vm._computedMap = {};\n  Object.keys(computed).forEach((key) => {\n    const userDef = computed[key];\n    const getter = typeof userDef === \"function\" ? userDef : userDef.get;\n    vm._computedMap[key] = new Watcher(vm, getter, {\n      lazy: true,\n    });\n\n    defineComputed(vm, key, userDef);\n  });\n}\n\nfunction defineComputed(vm, key, userDef) {\n  const setter = userDef.set || (() => {});\n\n  Object.defineProperty(vm, key, {\n    get: createComputedGetter(key),\n    set: setter,\n  });\n}\n\nfunction createComputedGetter(key) {\n  return function () {\n    const watcher = this._computedMap[key];\n    if (watcher.dirty) {\n      watcher.evaluate();\n    }\n\n    if (Dep.target) {\n      watcher.depend();\n    }\n    return watcher.value;\n  };\n}\n\nfunction initWatch(vm) {\n  const watch = vm.$options.watch;\n  if (!watch) return;\n\n  Object.keys(watch).forEach((key) => {\n    if (Array.isArray(watch[key])) {\n      watch[key].forEach((item) => {\n        createWatcher(vm, key, item);\n      });\n    } else {\n      createWatcher(vm, key, watch[key]);\n    }\n  });\n}\n\nfunction createWatcher(vm, key, cb) {\n  vm.$watch(key, cb);\n}\n","export function createElementVNode(vm, tag, props = {}, ...children) {\r\n  const key = props.key;\r\n\r\n  if (key) {\r\n    delete props.key;\r\n  }\r\n\r\n  return vnode(vm, tag, key, props, children);\r\n}\r\n\r\nexport function createTextVNode(vm, text) {\r\n  return vnode(vm, undefined, undefined, undefined, undefined, text);\r\n}\r\n\r\nfunction vnode(vm, tag, key, data, children, text) {\r\n  return {\r\n    vm,\r\n    tag,\r\n    key,\r\n    data,\r\n    children,\r\n    text,\r\n  };\r\n}\r\n","import Watcher from \"./observe/watcher\";\r\nimport { createElementVNode, createTextVNode } from \"./vdom/index\";\r\n\r\nexport function initLiftCycle(Vue) {\r\n  Vue.prototype._c = function (tag, attrs, children) {\r\n    return createElementVNode(this, ...arguments);\r\n  };\r\n\r\n  Vue.prototype._v = function () {\r\n    return createTextVNode(this, ...arguments);\r\n  };\r\n\r\n  Vue.prototype._s = function (value) {\r\n    if (typeof value !== \"object\") return value;\r\n    return JSON.stringify(value);\r\n  };\r\n\r\n  Vue.prototype._render = function () {\r\n    const vm = this,\r\n      render = vm.$options.render;\r\n    return render.call(vm);\r\n  };\r\n\r\n  Vue.prototype._update = function (vnode) {\r\n    const vm = this;\r\n    const el = vm.$el;\r\n    vm.$el = patch(el, vnode);\r\n  };\r\n}\r\n\r\nfunction createElement(vnode) {\r\n  if (typeof vnode.tag === \"string\") {\r\n    vnode.el = document.createElement(vnode.tag);\r\n\r\n    patchProps(vnode.el, vnode.data);\r\n\r\n    vnode.children.forEach((child) => {\r\n      vnode.el.appendChild(createElement(child));\r\n    });\r\n  } else {\r\n    vnode.el = document.createTextNode(vnode.text);\r\n  }\r\n\r\n  return vnode.el;\r\n}\r\nfunction patchProps(el, props) {\r\n  Object.keys(props).forEach((key) => {\r\n    switch (key) {\r\n      case \"style\":\r\n        Object.keys(props.style).forEach((key) => {\r\n          el.style[key] = props.style[key];\r\n        });\r\n        break;\r\n\r\n      default:\r\n        el.setAttribute(key, props[key]);\r\n        break;\r\n    }\r\n  });\r\n}\r\nfunction patch(oldVNode, vnode) {\r\n  const isRealNode = oldVNode.nodeType;\r\n  if (isRealNode) {\r\n    const elm = oldVNode,\r\n      parentElm = elm.parentNode;\r\n\r\n    const newElm = createElement(vnode);\r\n\r\n    parentElm.insertBefore(newElm, elm.nextSibling);\r\n\r\n    parentElm.removeChild(elm);\r\n    return newElm;\r\n  } else {\r\n  }\r\n}\r\n\r\nexport const mountComponent = function (vm, el) {\r\n  vm.$el = el;\r\n\r\n  const updateComponent = function () {\r\n    vm._update(vm._render());\r\n  };\r\n\r\n  const watcher = new Watcher(vm, updateComponent, {\r\n    renderWatch: true,\r\n  });\r\n\r\n};\r\n\r\nexport function callHook(vm, hook) {\r\n  const handles = vm.$options[hook];\r\n  if (!handles) return;\r\n\r\n  handles.forEach((handle) => handle());\r\n}\r\n","import { compileToFunction } from \"./compiler/index\";\nimport { initState } from \"./initState\";\nimport { callHook, mountComponent } from \"./lifycycle\";\nimport Watcher, { nextTick } from \"./observe/watcher\";\nimport { mergeOptions } from \"./util\";\n\nexport const initMixin = function (Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = mergeOptions(vm.constructor.options, options);\n    callHook(vm, \"beforeCreate\");\n    // 初始化数据\n    initState(vm);\n    callHook(vm, \"created\");\n\n    // 挂载\n    if (options.el) {\n      callHook(vm, \"beforeMount\");\n      vm.$mount(options.el);\n      callHook(vm, \"mounted\");\n    }\n  };\n\n  Vue.prototype.$mount = function (el) {\n    el = document.querySelector(el);\n    const vm = this;\n    let ops = vm.$options;\n    if (!ops.render) {\n      let template;\n      if (ops.template && el) {\n        template = ops.template;\n      } else if (el) {\n        template = el.outerHTML;\n      }\n\n      if (template) {\n        ops.render = compileToFunction(template);\n      }\n    }\n\n    mountComponent(vm, el);\n  };\n  Vue.prototype.$nextTick = nextTick;\n\n  Vue.prototype.$watch = function (expOrFn, cb) {\n    new Watcher(this, expOrFn, { user: true }, cb);\n  };\n};\n","import { initGlobalApi } from \"./initGlobalApi\";\nimport { initMixin } from \"./initMixin\";\nimport { initLiftCycle } from \"./lifycycle\";\n\nfunction Vue(options) {\n  this._init(options);\n}\n\ninitMixin(Vue);\ninitLiftCycle(Vue);\ninitGlobalApi(Vue);\n\nexport default Vue;\n"],"names":["tactics","lifycycles","forEach","lifycycle","p","c","concat","mergeOptions","parent","child","options","Object","keys","key","mergeField","hasOwnProperty","initGlobalApi","Vue","mixin","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","ELEMENT_TYPE","TEXT_TYPE","parseHTML","html","stack","root","currentParent","createAstElement","tag","attrs","type","children","startHandle","node","push","charsHandle","text","endHandle","pop","length","advance","n","substring","parseStartTag","start","match","tagName","end","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","defaultTagRE","toS","str","JSON","stringify","genElement","ast","code","genProps","map","item","codeGen","join","obj","propsStrArr","styleStrArr","split","cssname","cssvalue","trim","tokens","token","lastIndex","exec","curIndex","index","slice","compileToFunction","Function","oldArrayProto","Array","prototype","newArrayProto","create","methods","method","args","res","call","ob","__ob__","addItems","observeArray","dep","notify","id","Dep","subs","target","addDep","watcher","update","pushTarget","popTarget","Observer","data","defineProperty","enumerable","isArray","walk","defineReactive","__proto__","observe","dependArray","depend","childOb","get","set","newVal","proxy","vm","targetKey","Watcher","expOrFn","cb","getter","renderWatch","deps","depIds","Set","lazy","dirty","user","undefined","depId","has","add","addSub","queueWatcher","oldVal","watcherQueue","watcherMap","pending","nextTick","flushSchedulerQueue","watchers","run","timerFn","Promise","resolve","then","flushCbQueue","MutationObserver","observer","textNode","document","createTextNode","characterData","textContent","setImmediate","setTimeout","cbQueue","waiting","cbs","initState","initData","initComputed","initWatch","$options","_data","computed","_computedMap","userDef","defineComputed","setter","createComputedGetter","evaluate","watch","createWatcher","$watch","createElementVNode","props","vnode","createTextVNode","initLiftCycle","_c","arguments","_v","_s","_render","render","_update","el","$el","patch","createElement","patchProps","appendChild","style","setAttribute","oldVNode","isRealNode","nodeType","elm","parentElm","parentNode","newElm","insertBefore","nextSibling","removeChild","mountComponent","updateComponent","callHook","hook","handles","handle","initMixin","_init","constructor","$mount","querySelector","ops","template","outerHTML","$nextTick"],"mappings":"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"}
